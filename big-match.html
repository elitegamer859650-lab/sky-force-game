<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SKY FORCE - BIG MATCH</title>
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Segoe UI', sans-serif; }
        #game-canvas { width: 100vw; height: 100vh; display: block; }
        
        /* Level 17+ Hardcore HUD [cite: 2025-12-23] */
        #hud-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; padding: 20px; box-sizing: border-box;
            display: flex; justify-content: space-between;
        }
        .stats { color: #00ffff; font-size: 18px; font-weight: bold; text-shadow: 2px 2px #000; }
        .crosshair { 
            position: absolute; top: 50%; left: 50%; 
            width: 20px; height: 20px; border: 2px solid rgba(255,0,0,0.5); 
            border-radius: 50%; transform: translate(-50%, -50%); 
        }
    </style>
</head>
<body>

    <div id="hud-overlay">
        <div class="stats">
            <div>UID: 87654321</div> <div style="color: gold;">HARDCORE MODE: ACTIVE</div>
        </div>
        <div class="stats" style="text-align: right;">
            <div>KILLS: 0</div>
            <div>ALIVE: 15</div>
        </div>
        <div class="crosshair"></div>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.150.1/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.150.1/examples/jsm/"
            }
        }
    </script>
    <script type="module" src="src/big-match.js"></script>
    <div id="quick-chat-ui" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); z-index: 100;">
    <button onclick="chat.sendQuickChat('ENEMY')" style="display:block; margin:5px; background:rgba(255,0,0,0.5); color:white; border:1px solid red; padding:10px;">‚ö†Ô∏è</button>
    <button onclick="chat.sendQuickChat('HELP')" style="display:block; margin:5px; background:rgba(0,0,255,0.5); color:white; border:1px solid blue; padding:10px;">üÜò</button>
    <button onclick="chat.sendQuickChat('STAY')" style="display:block; margin:5px; background:rgba(0,255,0,0.5); color:white; border:1px solid green; padding:10px;">üõ°Ô∏è</button>
</div>

<div id="message-log" style="position: absolute; left: 20px; bottom: 150px; color: yellow; font-weight: bold; pointer-events: none;"></div>

<script type="module">
    import { CombatChat } from './src/combat-chat.js';
    
    const matchID = "big_match_001"; // Dynamic match ID
    const myUID = localStorage.getItem('active_uid');
    window.chat = new CombatChat(matchID, myUID);

    const log = document.getElementById('message-log');
    chat.listenForMessages((data) => {
        const msg = document.createElement('div');
        msg.innerText = `${data.sender}: ${data.text}`;
        log.appendChild(msg);
        
        // 3 second baad message mita do [cite: 2025-12-18]
        setTimeout(() => msg.remove(), 3000);
    });
</script>
    <div id="kill-feed-container" style="position: absolute; top: 50px; left: 50%; transform: translateX(-50%); width: 400px; height: 100px; pointer-events: none; z-index: 200; display: flex; flex-direction: column; align-items: center;">
    </div>

<style>
    .kill-row {
        background: rgba(0, 0, 0, 0.7);
        border-left: 4px solid red;
        color: white;
        padding: 5px 20px;
        margin-bottom: 5px;
        font-family: 'Courier New', monospace;
        font-weight: bold;
        font-size: 14px;
        animation: slideIn 0.3s ease-out;
    }
    .killer { color: #00e5ff; } /* Cyan color for killer */
    .victim { color: #ff0000; } /* Red color for victim */
    @keyframes slideIn { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
</style>

<script type="module">
    import { KillFeed } from './src/kill-feed.js';
    
    const feed = new KillFeed("big_match_001");
    const container = document.getElementById('kill-feed-container');

    feed.listen((data) => {
        const row = document.createElement('div');
        row.className = 'kill-row';
        row.innerHTML = `<span class="killer">${data.killer}</span> üî´ [${data.weapon}] <span class="victim">${data.victim}</span>`;
        
        container.appendChild(row);

        // 4 second baad kill feed se mita do [cite: 2025-12-18]
        setTimeout(() => {
            row.style.opacity = '0';
            row.style.transition = '0.5s';
            setTimeout(() => row.remove(), 500);
        }, 4000);
    });
</script>

</body>
</html>
